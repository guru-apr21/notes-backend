(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),u=n(16),i=n(4),l=n(3),s=function(e){var t=e.note,n=e.toggleImportance,a=t.important?"make not important":"make important";return r.a.createElement("li",{className:"note"},t.content+" ",r.a.createElement("button",{onClick:function(){return n(t.id)}},a))},m=n(2),f=n.n(m),p=n(5),d=n.n(p),v=function(){var e,t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(d.a.get("/api/notes"));case 2:return e=a.sent,t=e.data,n={id:1e4,content:"This note is not saved to server",date:"2019-05-30T17:30:31.098Z",important:!0},a.abrupt("return",[].concat(Object(i.a)(t),[n]));case 6:case"end":return a.stop()}}))},b=function(e){var t,n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(d.a.post("/api/notes",e));case 2:return t=a.sent,n=t.data,a.abrupt("return",n);case 5:case"end":return a.stop()}}))},E=function(e,t){var n,a;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(d.a.put("".concat("/api/notes","/").concat(e),t));case 2:return n=r.sent,a=n.data,r.abrupt("return",a);case 5:case"end":return r.stop()}}))},h=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"error"},t)},g=function(){return r.a.createElement("div",{style:{color:"green",fontStyle:"italic",fontSize:16}},r.a.createElement("br",null),r.a.createElement("em",null,"Note app, Department of Computer Science, University of Helsinki 2020"))},O=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),m=Object(l.a)(o,2),f=m[0],p=m[1],d=Object(a.useState)(!0),O=Object(l.a)(d,2),j=O[0],w=O[1],S=Object(a.useState)(null),y=Object(l.a)(S,2),k=y[0],x=y[1];Object(a.useEffect)((function(){v().then((function(e){return c(e)}))}),[]);var C=j?n:n.filter((function(e){return e.important})),I=function(e){var t=n.find((function(t){return t.id===e})),a=Object(u.a)({},t,{important:!t.important});E(e,a).then((function(t){c(n.map((function(n){return n.id!==e?n:t})))})).catch((function(a){x("the note '".concat(t.content,"' was already deleted from the server")),setTimeout((function(){x(null)}),5e3),c(n.filter((function(t){return t.id!==e})))}))};return r.a.createElement("div",null,r.a.createElement("h1",null,"Notes"),r.a.createElement(h,{message:k}),r.a.createElement("div",null,n.length>0&&r.a.createElement("button",{onClick:function(){return w(!j)}},"Show ",j?"important":"all")),r.a.createElement("ul",null,C.map((function(e,t){return r.a.createElement(s,{key:t,note:e,toggleImportance:I})}))),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={content:f,date:(new Date).toISOString(),important:Math.random()>.5};b(t).then((function(e){c([].concat(Object(i.a)(n),[e])),p("")}))}},r.a.createElement("input",{onChange:function(e){p(e.target.value)},value:f,placeholder:"Enter a new note..."}),r.a.createElement("button",{type:"submit"},"Save")),r.a.createElement(g,null))};n(40);o.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.735d0c39.chunk.js.map